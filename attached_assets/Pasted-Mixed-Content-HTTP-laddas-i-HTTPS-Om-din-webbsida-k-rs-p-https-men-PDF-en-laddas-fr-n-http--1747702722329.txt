Mixed Content ‚Äì HTTP laddas i HTTPS
Om din webbsida k√∂rs p√• https://, men PDF:en laddas fr√•n http://, s√• blockerar Chrome det automatiskt.

L√∂sning:
Se till att PDF:en laddas via HTTPS, t.ex.:

https://dinsajt.se ska inte ladda en PDF fr√•n http://localhost:8001/pdf.pdf.
Anv√§nd ist√§llet https://proxy.dinsajt.se/pdf.pdf.

üõ°Ô∏è 2. CORS ‚Äì Cross-Origin Resource Sharing
Om PDF:en h√§mtas fr√•n en annan dom√§n √§n frontend, m√•ste servern skicka r√§tt CORS-header:

Servern ska skicka:

Access-Control-Allow-Origin: *
eller √§nnu s√§krare:

Access-Control-Allow-Origin: https://dinsajt.se

I Django kan du t.ex. l√§gga till i settings.py:

CORS_ALLOWED_ORIGINS = [ "https://dinsajt.se", ]

Anv√§nder du proxy (som nginx eller Replit), m√•ste √§ven den st√∂dja CORS.

üîê 3. Content Security Policy (CSP)
Om din server har en strikt CSP-policy, t.ex.:

Content-Security-Policy: frame-src 'self'

...d√• blockeras PDF:er som laddas in via iframe.

L√∂sning:
√Ñndra din CSP s√• att PDF-dom√§nen till√•ts, t.ex.:

Content-Security-Policy: frame-src 'self' https://pdfserver.dinsajt.se;

üìÅ 4. PDF i dialog/iframe blockeras
Om du laddar PDF:en i en <iframe> eller <object> som visas i en modal eller dialog, kan Chrome blockera den.

L√∂sningar:

Testa att √∂ppna PDF:en i en ny flik eller nytt f√∂nster.

Eller: anv√§nd pdfjs-dist f√∂r att visa PDF:en direkt som komponent.

Exempel p√• PDF.js-anrop:

const loadingTask = pdfjs.getDocument({ url });

üß™ 5. Visa PDF via blob ist√§llet f√∂r direktl√§nk
Att visa PDF:en som blob undviker m√•nga s√§kerhetsblockeringar.

Exempel:

scss
Kopiera
Redigera
fetch(pdfUrl)
  .then(res => res.blob())
  .then(blob => {
    const blobUrl = URL.createObjectURL(blob);
    setPdfSrc(blobUrl);
  });
Sedan s√§tter du blobUrl som src i din iframe eller skickar det till PDF.js.

üìå Snabb √∂versikt
Problem	L√∂sning
PDF laddas via HTTP	Anv√§nd HTTPS
Annan dom√§n utan CORS	Konfigurera Access-Control-Allow-Origin
CSP blockerar iframe	L√§gg till dom√§n i CSP
Modal blockerar PDF	Visa i ny flik eller anv√§nd pdf.js/blob
Chrome blockerar iframe	Byt till blob eller visa utanf√∂r dialog