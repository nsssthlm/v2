Bearbetar mapp: test (ID: 351), projektID från mapp: 31, projektID från request: 31
Försöker skapa mapp med project_id = 31, typ: number
Konverterad folderProjectId: 31, typ: number
Skapar mapp med SQL-anrop: namn=test, project_id=31
Incoming request cookies for /api/files/recent: valvx.sid=s%3AhgCkgzh1vzyjvejxxYG55hjzolzwleIL.EE4KeQe8pJC8DJx6itXpIkrhM%2FM3xqtWwKShL%2BKaGsc
INFO: HTTP_REQUEST_START: GET /api/files/recent from 10.81.1.4 user=unauthenticated
Fel vid skapande av mapp test (ID: 351): error: insert or update on table "folders" violates foreign key constraint "folders_parent_id_folders_id_fk"
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:677:28) {
  length: 278,
  severity: 'ERROR',
  code: '23503',
  detail: 'Key (parent_id)=(349) is not present in table "folders".',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'folders',
  column: undefined,
  dataType: undefined,
  constraint: 'folders_parent_id_folders_id_fk',
  file: 'ri_triggers.c',
  line: '2608',
  routine: 'ri_ReportViolation'
}
9:11:09 AM [express] POST /api/folders/sync 200 in 230ms :: {"message":"3 mappar synkroniserade","results":[{"id":304,"name":"Test1","statu…
INFO: HTTP_REQUEST_COMPLETE: POST /api/folders/sync 200 in 230ms - User=unauthenticated IP=10.81.9.23 UserAgent=Mozilla/5.0 (Windows NT 10.0; 
Deserializing user ID 17, found: user exists
9:11:09 AM [express] GET /api/files/recent 200 in 101ms
INFO: HTTP_REQUEST_COMPLETE: GET /api/files/recent 200 in 101ms - User=unauthenticated IP=10.81.1.4 UserAgent=Mozilla/5.0 (Windows NT 10.0; 
Incoming request cookies for /api/folders/sync: valvx.sid=s%3AhgCkgzh1vzyjvejxxYG55hjzolzwleIL.EE4KeQe8pJC8DJx6itXpIkrhM%2FM3xqtWwKShL%2BKaGsc
INFO: HTTP_REQUEST_START: POST /api/folders/sync from 10.81.1.4 user=unauthenticated
Deserializing user ID 17, found: user exists
Synkronisering av mappar begärd för projekt 31, typ: number
Antal mappar att synkronisera: 3
Folder data: {
  "name": "Test1",
  "parent": "Test",
  "id": "304",
  "parentId": 303,
  "projectId": 31,
  "label": "Test1",
  "href": "/vault/folders/Test1-304?t=1747983868092"
}
Bearbetar mapp: Test1 (ID: 304), projektID från mapp: 31, projektID från request: 31
Mapp Test1 (ID: 304) existerar redan
Bearbetar mapp: test (ID: 350), projektID från mapp: 31, projektID från request: 31
Försöker skapa mapp med project_id = 31, typ: number
Konverterad folderProjectId: 31, typ: number
Skapar mapp med SQL-anrop: namn=test, project_id=31
Fel vid skapande av mapp test (ID: 350): error: insert or update on table "folders" violates foreign key constraint "folders_parent_id_folders_id_fk"
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:677:28) {
  length: 278,
  severity: 'ERROR',
  code: '23503',
  detail: 'Key (parent_id)=(349) is not present in table "folders".',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'folders',
  column: undefined,
  dataType: undefined,
  constraint: 'folders_parent_id_folders_id_fk',
  file: 'ri_triggers.c',
  line: '2608',
  routine: 'ri_ReportViolation'
}
Bearbetar mapp: test (ID: 351), projektID från mapp: 31, projektID från request: 31
Försöker skapa mapp med project_id = 31, typ: number
Konverterad folderProjectId: 31, typ: number
Skapar mapp med SQL-anrop: namn=test, project_id=31
Fel vid skapande av mapp test (ID: 351): error: insert or update on table "folders" violates foreign key constraint "folders_parent_id_folders_id_fk"
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:677:28) {
  length: 278,
  severity: 'ERROR',
  code: '23503',
  detail: 'Key (parent_id)=(349) is not present in table "folders".',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'folders',
  column: undefined,
  dataType: undefined,
  constraint: 'folders_parent_id_folders_id_fk',
  file: 'ri_triggers.c',
  line: '2608',
  routine: 'ri_ReportViolation'
}
9:11:11 AM [express] POST /api/folders/sync 200 in 245ms :: {"message":"3 mappar synkroniserade","results":[{"id":304,"name":"Test1","statu…
INFO: HTTP_REQUEST_COMPLETE: POST /api/folders/sync 200 in 245ms - User=unauthenticated IP=10.81.1.4 UserAgent=Mozilla/5.0 (Windows NT 10.0; 
^C